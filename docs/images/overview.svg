<svg xmlns="http://www.w3.org/2000/svg" width="960" height="360" viewBox="0 0 960 360" role="img" aria-labelledby="title desc">
  <title id="title">Fire Response Plugin Overview</title>
  <desc id="desc">Data flow from input layers through OSM graph utilities to algorithms and outputs.</desc>
  <defs>
    <style>
      .box{fill:#ffffff;stroke:#1f2937;stroke-width:2}
      .title{font:700 16px Inter,Segoe UI,Arial}
      .text{font:400 14px Inter,Segoe UI,Arial}
      .muted{fill:#6b7280}
      .arrow{stroke:#1f2937;stroke-width:2;marker-end:url(#arrow)}
    </style>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#1f2937"/>
    </marker>
  </defs>

  <!-- Inputs -->
  <rect class="box" x="40" y="60" width="240" height="90" rx="8"/>
  <text x="60" y="88" class="title">Входные слои</text>
  <text x="60" y="112" class="text">• Объекты (точки/полигоны)</text>
  <text x="60" y="136" class="text">• Пожарные подразделения (точки)</text>

  <!-- Graph utils -->
  <rect class="box" x="340" y="40" width="280" height="130" rx="8"/>
  <text x="360" y="68" class="title">Graph Utils (OSM)</text>
  <text x="360" y="92" class="text">• graph_from_polygon</text>
  <text x="360" y="114" class="text">• set_graph_travel_times</text>
  <text x="360" y="136" class="text">• kmh → m/min</text>

  <!-- Algorithms -->
  <rect class="box" x="700" y="20" width="220" height="90" rx="8"/>
  <text x="720" y="48" class="title">nearest_fire_station</text>
  <text x="720" y="72" class="text muted">Найближ. по времени</text>

  <rect class="box" x="700" y="130" width="220" height="90" rx="8"/>
  <text x="720" y="158" class="title">response_time_routes</text>
  <text x="720" y="182" class="text muted">Маршруты OSM</text>

  <rect class="box" x="700" y="240" width="220" height="90" rx="8"/>
  <text x="720" y="268" class="title">all_stations_response</text>
  <text x="720" y="292" class="text muted">Покрытие по рангам</text>

  <!-- Outputs -->
  <rect class="box" x="40" y="240" width="240" height="90" rx="8"/>
  <text x="60" y="268" class="title">Выходные слои</text>
  <text x="60" y="292" class="text">• Атрибуты времени/длины</text>
  <text x="60" y="314" class="text">• Маршруты и сводные метрики</text>

  <!-- Arrows -->
  <line class="arrow" x1="280" y1="105" x2="340" y2="105" />
  <line class="arrow" x1="620" y1="80" x2="700" y2="65" />
  <line class="arrow" x1="620" y1="105" x2="700" y2="175" />
  <line class="arrow" x1="620" y1="120" x2="700" y2="275" />
  <line class="arrow" x1="700" y1="285" x2="280" y2="285" />
</svg>


